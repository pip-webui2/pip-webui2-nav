<div class="pip-nav-menu w-stretch">
    <div fxFlex="grow" fxLayout="column" class="w-stretch">
        <div *ngFor="let section of config?.sections; let sectionIndex = index" class="w-stretch" fxLayout="column">
            <mat-divider *ngIf="sectionIndex > 0"></mat-divider>
            <div fxFlex="grow" *ngIf="section.title" class="pip-nav-menu-section-title">
                {{ section.title | translate }}
            </div>
            <div fxFlex="grow" class="w-stretch">
                <mat-nav-list dense class="w-stretch">
                    <ng-container *ngFor="let item of section.links; let itemIndex = index">
                        <ng-container *ngIf="!(item?.href)">
                            <mat-list-item (click)="item?.click && isFunction(item?.click) ? item.click($event, onItemSelect) : onItemSelect(itemIndex, item)"
                                           routerLink="/{{ item?.url }}" class="w-stretch" [ngClass]="{selected: itemIndex === selectedItemIndex && sectionIndex === selectedSectionIndex}">
                                <div fxLayout="row" fxLayoutAlign="start center" class="w-stretch">
                                    <mat-icon *ngIf="item && !item.fontSet">{{ item?.icon || 'menu' }}</mat-icon>
                                    <mat-icon *ngIf="item && item.fontSet" [fontSet]="item?.fontSet" [fontIcon]="item?.icon"></mat-icon>
                                    <h3 mat-line class="pip-link-title">{{ item.title | translate }}</h3>
                                </div>
                            </mat-list-item>
                        </ng-container>
                        <ng-container *ngIf="!(item?.url) && item?.href">
                            <a mat-list-item *ngFor="let item of section.links; let itemIndex = index" (click)="item?.click && isFunction(item?.click) ? item.click($event, onItemSelect) : onItemSelect(itemIndex, item)"
                               [attr.href]="item?.href" class="w-stretch" [ngClass]="{selected: itemIndex === selectedItemIndex && sectionIndex === selectedSectionIndex}">
                                <div fxLayout="row" fxLayoutAlign="start center" class="w-stretch">
                                    <mat-icon *ngIf="item && !item.fontSet">{{ item?.icon || 'menu' }}</mat-icon>
                                    <mat-icon *ngIf="item && item.fontSet" [fontSet]="item?.fontSet" [fontIcon]="item?.icon"></mat-icon>
                                    <h3 mat-line class="pip-link-title">{{ item.title | translate }}</h3>
                                </div>
                            </a>
                        </ng-container>
                    </ng-container>
                </mat-nav-list>
            </div>
        </div>

    </div>
</div>